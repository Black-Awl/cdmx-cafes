---
import { getLangFromUrl, useTranslations, defaultLang } from '../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

function localizedUrl(path: string) {
  return lang === defaultLang ? path : `/${lang}${path}`;
}

const navItems = [
  { name: t('nav.home'), url: localizedUrl('/') },
  { name: t('nav.cafes'), url: localizedUrl('/cafes') },
  { name: t('nav.about'), url: localizedUrl('/about') },
];
---

<nav class="bg-base-200">
  <div class="container mx-auto px-4">
    <ul class="menu menu-horizontal">
      {navItems.map((item) => (
        <li><a href={item.url}>{item.name}</a></li>
      ))}
    </ul>
  </div>
</nav>